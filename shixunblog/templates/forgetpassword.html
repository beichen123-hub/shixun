{% extends 'bats.html' %}
{% block connect %}
    <div class="cl-cantainer container pt-5">
        <form class="col-md-6 offset-md-3" method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="inputEmail4">账号</label>
                <input type="number" class="form-control" id="mobile" name="mobile" placeholder="请输入要修改密码的账号"
                       autofocus="autofocus" required v-model="mobile" @blur="check_mobile">
                <small class="form-text text-danger ml-1" v-show="mobile_error">[[mobile_error_message]]</small>
            </div>
            <div class="form-group">
                <label for="id_password">新密码</label>
                <input type="password" class="form-control" id="id_password" name="password" placeholder="请输入密码"
                       required class="form-control" v-model="password" @blur="check_password"/>
                <small class="form-text text-danger ml-1" v-show="password_error">[[password_error_message]]</small>
            </div>
            <div class="form-group">
                <label for="id_password2">确认密码</label>
                <input type="password" id="id_password2" name="password2" placeholder="请输入确认密码" required
                       class="form-control" v-model="password2" @blur="check_password2"/>
                <small class="form-text text-danger ml-1" v-show="password2_error">[[password2_error_message]]</small>
            </div>
            <div class="form-group">
                <label for="id_image_code">图片验证码</label>
                <div class="row">
                    <div class="col-md-8">
                        <input type="text" name="imgage_code" id="id_image_code" placeholder="请输入图片验证码" required
                               class="form-control" v-model="image_code" @blur="check_image_code"/>
                    </div>
                    <div class="col-md-4">
                        <img :src="image_code_url" @click="generate_image_code" alt="图片验证码"
                             style="width: 110px;height: 40px;">
                        <small class="form-text text-danger ml-1"
                               v-show="image_code_error">[[image_code_error_message]]</small>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="id_sms_code">短信验证码</label>
                <div class="row">
                    <div class="col-md-8">
                        <input type="text" name="sms_code" id="id_sms_code" placeholder="请输入短信验证码" required
                               class="form-control" v-model="sms_code" @blur="check_sms_code"/>
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-info" type="button" @click="send_sms_code">[[sms_code_message]]</button>
                        <small class="form-text text-danger ml-1"
                               v-show="sms_code_error">[[sms_code_error_message]]</small>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-block">修改密码</button>
            </div>
        </form>
    </div>
{% endblock %}